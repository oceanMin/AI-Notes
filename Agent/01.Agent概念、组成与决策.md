# **Agent概念、组成与决策**

## 一、Agents 是什么？

### 1. LLM 的局限性  
大语言模型（LLM）能：
- 接受输入
- 进行分析与推理
- 输出文字、代码、媒体内容  

但 LLM 无法像人类一样：
- 具备**规划思考能力**
- **使用各种工具**与物理世界互动
- 拥有**长期记忆能力**

### 2. 智能体（Agents）的定义  
- **AI Agents** 是基于 LLM 的智能系统  
- 能够**自主理解、自主规划决策、执行复杂任务**  
- 设计目的：处理那些简单的语言模型无法直接解决的问题，尤其是**多步骤任务**或需要**外部数据源**的情况

### 3. 智能体的构成  
> **人类 = LLM（输入 + 思考 + 输出） + 记忆 + 工具 + 规划 → Agents**

---

## 二、Agents 的三大核心组成部分

| 组成部分 | 功能说明 | 示例工具/方法 |
|----------|----------|----------------|
| **规划（Planning）** | - 将大型任务分解为子任务<br>- 规划执行流程<br>- 对过程进行反思，决定继续或终止 | - Chain of Thoughts（思维链）<br>- Subgoal Decomposition（子目标分解）<br>- Reflection & Self-critics（反思与自我批判） |
| **记忆（Memory）** | - **短期记忆**：任务执行中的上下文，任务完成后清空<br>- **长期记忆**：长时间保留的信息，通常存储在外部知识库（如向量数据库）中 | - 短期记忆：当前对话/任务上下文<br>- 长期记忆：向量数据库检索 |
| **工具使用（Tools）** | 为智能体配备工具 API，使其能与物理世界交互、解决实际问题 | - Calendar()<br>- Calculator()<br>- CodeInterpreter()<br>- Search()<br>- Database Query Tools<br>- 更多工具… |

---

## 三、Agents 的决策流程（循环执行）

一个典型的 Agent 决策流程是一个**循环**，每个循环处理一个**任务（Task）**：

1. **感知（Perception）**  
   - 接收输入信息（如用户指令、环境数据）

2. **观察（Observation）**  
   - 分析输入内容，理解当前状态与目标

3. **规划（Planning）**  
   - 将任务分解为子任务
   - 规划执行步骤
   - 调用相关工具与记忆

4. **行动（Action）**  
   - 执行规划好的步骤（如调用工具、生成输出）
   - 与环境或用户进行交互

5. **反思（Reflection）**  
   - 评估执行结果
   - 更新记忆（短期/长期）
   - 决定是否继续、调整或终止任务

---

## 四、Agents 流程图示意

```
感知 → 观察 → 规划 → 行动 → 反思
        ↓          ↑
    记忆（短期/长期） + 工具使用
```

- **工具层**：Calendar, Calculator, CodeInterpreter, Search 等  
- **记忆层**：短期记忆 + 长期记忆（向量数据库）  
- **规划层**：思维链、子目标分解、自我批判  
- **Agent** 在循环中持续与环境互动，逐步完成任务


---
